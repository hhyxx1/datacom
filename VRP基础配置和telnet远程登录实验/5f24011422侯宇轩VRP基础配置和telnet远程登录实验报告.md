## 组号：5

组长学号：f24011422                 姓名：侯宇轩

学号：f24011435                         姓名：王君唯

学号：f24011414                         姓名：陈海瑞

学号：f24011437                         姓名：徐颂磊

学号：f24011418                         姓名：范广哲

学号：f24011431                         姓名：孙明昊



# 一.实验过程

## 1 配置、状态检查及测试过程

#### 1.基础配置

##### 1.1 关闭打印信息

操作：输入undo terminal monitor关闭打印信息

![image-20251008205230337](assets/image-20251008205230337.png)![image-20251008205302201](assets/image-20251008205302201.png)

##### 1.2 主机名配置

###### 1.2.1 进入系统视图

操作：输入system-view进入系统视图

![image-20251008205619394](assets/image-20251008205619394.png)![image-20251008205644665](assets/image-20251008205644665.png)

###### 1.2.2 配置设备名

操作：输入sysname+设备名更改设备名称

![image-20251008210053112](assets/image-20251008210053112.png)![image-20251008210059232](assets/image-20251008210059232.png)

##### 1.3 路由器接口IP地址配置

操作：1.输入interface GigabitEthernet 0/0/0进入0/0/0端口

2.输入ip address + IP地址 + 子网掩码|掩码长度来配置路由器ip地址

R1输入ip address 192.168.12.1 24 或ip address 192.168.12.1 255.255.255.0

R2输入ip address 192.168.12.2 24 或ip address 192.168.12.2 255.255.255.0

![image-20251008211312872](assets/image-20251008211312872.png)![image-20251008211316553](assets/image-20251008211316553.png)

##### 1.4 检查ip地址

操作：1.先输入quit，退出0/0/0到系统视图，terminal显示为[R1]/[R2]

2.再输入return或者按Ctrl+z，返回到用户视图，terminal显示为尖括号<R1>/<R2>

3.输入display ip interface brief查看当前ip address

![image-20251008213456713](assets/image-20251008213456713.png)![image-20251008213500705](assets/image-20251008213500705.png)

#### 2.console口登录配置（R2）

##### 2.1 进入console 0视图

操作：输入user-interface console 0进入console 0视图，terminal显示R2-ui-console0

![image-20251008220248930](assets/image-20251008220248930.png)

##### 2.2 配置密码认证 输入密码

操作：1.输入authentication-mode password进入设置password模式

2.输入要求设置的密码admin123

![image-20251008220701850](assets/image-20251008220701850.png)

##### 2.3 配置登录前标题信息

操作：1.先输入quit退出到系统视图，terminal显示为[R2]

2.输入header login information “hello”（双引号内为登录前标题信息）

![image-20251008221615218](assets/image-20251008221615218.png)

##### 2.4 配置登录成功后的标题信息

操作：输入header shell information “Labone”（双引号内为登录成功标题信息）

![image-20251008221655473](assets/image-20251008221655473.png)

##### 2.5 测试

操作：查看是否正常输出登录前标题信息，输入密码admin123后查看是否正常输出登录成功标题信息

![image-20251008225212681](assets/image-20251008225212681.png)

正常输出登录前标题信息hello，输入密码admin123后正常输出登录成功标题信息Labone，设置password登录成功

#### 3.talent远程登录配置

##### 3.1 telnet使能（模拟器不用输入）

操作：在模拟器中输入telnet server enable

![image-20251008234709290](assets/image-20251008234709290.png)

输入后提示TELNET服务已经开启

##### 3.2 配置vty用户0-4认证方式aaa

操作：1.输入user-interface vty 0 4，terminal显示为[R2-ui-vty0-4]

![image-20251008234913033](assets/image-20251008234913033.png)

2.输入authentication-mode aaa进入三a认证模式

![image-20251008234927562](assets/image-20251008234927562.png)

3.输入quit退出到系统视图，terminal显示为[R2]

4.输入aaa，进入三a认证的配置模式，terminal显示为[R2-aaa]

![image-20251008235107884](assets/image-20251008235107884.png)

##### 3.3 配置telnet远程登录用户名，密码以及用户级别

操作：1.输入local-user common password cipher 123456，输出Add a new user，添加用户成功

![image-20251008235123850](assets/image-20251008235123850.png)

2.输入local-user common privilege level 1来设置用户级别为1

![image-20251008235137785](assets/image-20251008235137785.png)

3.输入local-user common service-type来配置common用户的服务类型为telnet

![image-20251008235203162](assets/image-20251008235203162.png)

4.同步骤1、2、3配置一个admin用户，密码为abc123，优先级为3，服务类型相同

![image-20251008235215706](assets/image-20251008235215706.png)

5.返回用户视图输入save保存

![image-20251008235225994](assets/image-20251008235225994.png)

## 2 最终状态检查

#### 1.查看接口与ip相关的简要信息

操作：在系统视图下分别输入display ip interface brief

![image-20251009003815802](assets/image-20251009003815802.png)

![image-20251009003829938](assets/image-20251009003829938.png)

图中可以看到，R1和R2的ip已经配置成功且正确，physical和protocol状态均为up

#### 2.console 0视图的密码检查

操作：进入console 0视图中输入display this

![image-20251009004300635](assets/image-20251009004300635.png)

![image-20251009004307691](assets/image-20251009004307691.png)

如图，R1和R2的user-authentication-mode均为password验证方式，密码配置成功

#### 3.telnet的aaa验证方式检查

操作：在R2进入aaa，输入display this

![image-20251009004513939](assets/image-20251009004513939.png)

如图，local-user成功出现配置的common用户和admin用户，优先级分别为1，3，配置正确

## 3 最终测试结果

#### 1.ping包测试

操作：R1 ping R2：在R1输入ping 192.168.12.2

R2 ping R1：在R2输入ping 192.168.12.1

![image-20251008215047249](assets/image-20251008215047249.png)![image-20251008215053473](assets/image-20251008215053473.png)

经测试，5个packet均传输成功，0丢包

#### 2.console口登录测试

操作：在PC1中的console中connect路由器R2

![image-20251008231733587](assets/image-20251008231733587.png)

如图，在PC1上connect后正常显示hello，输入正确密码admin123后正常打印Labone

#### 3.talent登录测试

操作：1.在R1输入192.168.12.2，通过telnet方式连接到R2

![image-20251009000420562](assets/image-20251009000420562.png)

2.登录common用户

![image-20251009000451994](assets/image-20251009000451994.png)

3.输入system-view，测试common用户是否可以进入系统视图

![image-20251009000516506](assets/image-20251009000516506.png)

不可以进入，因为common用户的优先级为1

4.登录admin用户

![image-20251009000602298](assets/image-20251009000602298.png)

5.输入system-view，测试admin用户是否可以进入系统视图

![image-20251009000634722](assets/image-20251009000634722.png)

可以进入，因为admin用户的优先级为3

#### 4.抓包测试

操作：1.右键单击R2，选择CaptureData→GE 0/0/0，自动打开wireshark

![image-20251009002110084](assets/image-20251009002110084.png)

2.在R1中用telnet连接R2，wireshark中自动抓包

![image-20251009002119293](assets/image-20251009002119293.png)

如图可以看出抓到了登录前标题的hello，抓包成功







# 二.实验总结

#### 侯宇轩

本次实验聚焦“最小权限+可网管”思路，亲手完成R1/R2命名、地址绑定与R2的Console、VTY分级保护，真切体会到运维面与业务面分离的设计原则。收获有三：一是把抽象的用户等级1/3落到实测，验证等级1无法进入系统视图，理解权限颗粒度对误操作的遏制；二是发现标语虽仅“hello”“Labone”，但最大支持496字节，若超出会导致配置失败，查阅VRP命令参考确定边界；三是领悟到Telnet明文传输的风险，为后续切入SSH对比埋下伏笔。不足在于输入配置脚本时，多粘了一条“authentication-mode aaa”到Console口，结果现场想用admin123本地验证却被AAA策略拒绝，屏幕持续弹出Login failed，一度怀疑密码输错；回查《VRP安全配置指南》后才确认Console默认走本地密码，一旦改为AAA就必须在local-user下补增service-type terminal，否则本地无法登录。后续将严格区分线路模板，Console与VTY分别建配置片段，并在提交前用display this逐行比对，避免“一条指令”打乱整体验证流程。

#### 王君唯

本次实验让我完成了从理论到实践的初步跨越，收获颇丰。首先，我系统地掌握了华为网络设备的基础配置流程，包括主机名、接口IP地址等，这是构建任何网络的基础。其次，我深刻认识到网络设备安全管理的重要性。通过为Console口设置密码、配置登录前（MOTD）和登录后标语，我理解了这些措施在警示未授权用户和提供登录信息方面的作用。最关键的是，我学习并实践了远程管理的核心——Telnet用户认证与权限分级。创建不同等级的用户（如1级的common用户和3级的admin用户），让我直观体会到基于角色的访问控制（RBAC）在实际运维中的应用，它能有效防止越权操作，保障设备安全。

在实验过程中，我也遇到了一些问题与不足。最初配置完Telnet用户后，从R1始终无法登录R2。通过反复检查和display current-configuration命令排查，我发现问题在于没有在R2的用户界面（user-interface vty 0 4）下正确配置认证模式为aaa。这个经历暴露了我对配置命令逻辑关联性理解不深的不足，只知道单个命令而忽略了协议之间的配合。此外，我意识到本次实验使用的Telnet协议本身是不加密的，存在安全风险，这在真实生产环境中是必须用SSH替代的，也反映出我当前知识面在安全性深度上的局限。

为了解决这些问题，我主要参考了华为官方文档（如eNSP模拟器内置的帮助文件或华为企业支持网站对应的命令手册），明确了authentication-mode aaa这条命令的必要性。同时，我也回顾了《计算机网络》 教材中关于TCP/IP协议栈和远程登录协议的章节，加深了对Telnet工作原理的理解。

总而言之，本次实验不仅巩固了我的操作技能，更重要的是培养了我排查故障的逻辑思维和对网络安全的初步认知。未来，我计划进一步学习SSH配置和访问控制列表（ACL），以构建更安全、更接近企业实际需求的网络环境。

#### 陈海瑞

这次企业路由器Telnet远程管理实验，让我将理论知识转化为实操能力，也摸清了网络配置的“严谨性逻辑”。从给R1、R2设主机名和接口IP，到给R2控制台口加密码、配登录标题，每一步都是后续Telnet连接的基础，少一步就可能导致整体失败。碰到的核心问题是遇到了ENSP问题40，设备启动后接口一直处于“error-down”状态，查ENSP官方帮助文档才知道是虚拟网卡冲突，重启电脑并重置ENSP虚拟网卡后恢复正常。

#### 徐颂磊

本次实验完成了R1、R2的主机名与接口IP配置，设置了R2的console密码与登录横幅，并配置了两个不同权限级别的Telnet用户。实验让我掌握了设备初始化、IP配置、远程登录及权限控制的流程，并能使用ping、display等命令进行排错。但也认识到自身在安全配置方面的不足，比如仍使用明文密码和Telnet协议，后续需要学习并启用SSH和密码加密。在实验过程中，我参考了华为官方文档，并记录了遇到的问题及解决方法，为后续学习打下了基础。

#### 范广哲

本次企业网络模拟实验，围绕R1、R2路由器配置展开，从基础的主机名、接口IP设置，到R2的console口密码、登录横幅及Telnet分级用户配置，逐步完成目标。

最大收获是理清了Telnet用户等级（1级common、3级admin）的权限差异，掌握了“banner motd”与“banner login”的命令区别。但初期配置Telnet用户时，误将等级参数写错，通过反复调试及参考《华为设备远程管理配置手册》才解决。

后续需强化命令参数记忆，提升配置的准确性和效率。

#### 孙明昊

##### 个人收获与反思

通过本次路由器Telnet管理实验，我获得了宝贵的理论与实践结合的经验。我不仅熟练掌握了华为设备的基础配置（主机名、接口IP）和Telnet服务搭建的全流程，更深刻理解了网络设备分级权限管理的安全理念。通过创建common（1级）和admin（3级）用户，我认识到在企业网络中，基于角色的访问控制对于降低运维风险至关重要。

##### 遇到的挑战与不足

在配置过程中，我最初遇到了Telnet连接失败的问题。通过逐条检查，我发现问题根源在于未在R2的VTY用户界面下正确配置认证模式为aaa，导致创建的账号无法生效。这暴露了我对配置逻辑理解不够透彻、检查排错流程不系统的不足。同时，我也意识到像admin123这类密码强度不足，且未配置super password来保护权限切换，存在安全隐患。

##### 相关文献及联系

本次实践让我直观体会到RFC 854（Telnet协议）在实际网络管理中的应用与局限性（如明文传输的安全缺陷）。它促使我去查阅华为官方配置指南，并思考在现代网络中如何用更安全的SSH协议替代Telnet，从而将课堂理论、设备操作与行业最佳实践联系起来，完成了从“知道”到“会做”再到“思考优化”的关键跨越。
